{
  "spec": {
    "kind": "flow",
    "name": "enroll_benefit_flow",
    "initiators": [],
    "description": "This tool is used when the user needs to sign up for the company\u2019s benefit plan. It provides an interactive form experience to collect necessary details before calling the enroll_benefit tool to complete the registration process.",
    "display_name": "enroll_benefit_flow",
    "input_schema": {},
    "output_schema": {}
  },
  "edges": [
    {
      "id": "ebffc6c3-6a12-4c3e-b257-e686b1db130c",
      "end": "prompt_19220ffa-e4dd-4dd9-b07a-65f8187f7464",
      "start": "__start__"
    },
    {
      "id": "0ee2cccc-bc47-4260-9d34-7f8f20e21938",
      "end": "__end__",
      "start": "UserActivity 1"
    },
    {
      "id": "99e7b3e0-eec9-41f8-98f0-da5e70c9ab60",
      "end": "UserActivity 1",
      "start": "prompt_19220ffa-e4dd-4dd9-b07a-65f8187f7464"
    }
  ],
  "nodes": {
    "__end__": {
      "spec": {
        "kind": "end",
        "name": "__end__",
        "position": {
          "x": 20.831066410424853,
          "y": 1735.5496368324743
        }
      }
    },
    "__start__": {
      "spec": {
        "kind": "start",
        "name": "__start__",
        "position": {
          "x": 0,
          "y": 0
        }
      }
    },
    "UserActivity 1": {
      "spec": {
        "kind": "user_flow",
        "name": "UserActivity 1",
        "position": {
          "x": -148.53883301303102,
          "y": 362
        },
        "dimensions": {
          "width": 600,
          "height": 1274
        },
        "initiators": [],
        "display_name": "enroll-benefit-flow"
      },
      "edges": [
        {
          "id": "7db1101c-21e8-4be4-bd18-ac37df79238d",
          "end": "user_352937a8-a0c1-4ec9-9580-74c5a3724120",
          "start": "UserActivity 1__start__"
        },
        {
          "id": "b039e592-437d-48ac-af89-50dad3bd25ad",
          "end": "user_b83374a5-06fd-4f90-a74c-e7324bb94153",
          "start": "user_352937a8-a0c1-4ec9-9580-74c5a3724120"
        },
        {
          "id": "9c6d7a44-fc9b-49a4-a634-dc5ec3c97292",
          "end": "tool_1eb3d026-b229-4f95-aaf2-4df45f2bbf57",
          "start": "CodeBlock 1"
        },
        {
          "id": "e7ed1584-5b12-4e54-88a5-21733347fa5e",
          "end": "UserActivity 1__end__",
          "start": "tool_1eb3d026-b229-4f95-aaf2-4df45f2bbf57"
        },
        {
          "id": "68ba664c-8959-42f6-9cb5-490d98364e2c",
          "end": "Branch 1",
          "start": "user_aef39664-985d-4d35-bb7c-e8ff6fcbcbe5"
        },
        {
          "id": "a8262a4e-d2b7-45c5-80c5-788c605a2c1c",
          "end": "user_aef39664-985d-4d35-bb7c-e8ff6fcbcbe5",
          "start": "user_b83374a5-06fd-4f90-a74c-e7324bb94153"
        },
        {
          "id": "2534d8b6-7801-446c-b8c2-c12908fc406c",
          "end": "CodeBlock 1",
          "start": "Branch 1",
          "display_name": "Yes"
        },
        {
          "id": "076cf29f-29d8-4cb8-b556-e0e889d20bb7",
          "end": "user_bf5872a1-e808-419a-89e9-21de46704928",
          "start": "Branch 1",
          "display_name": "No"
        },
        {
          "id": "1c03e46e-d541-4ce4-8f07-8c918fbca301",
          "end": "UserActivity 1__end__",
          "start": "user_bf5872a1-e808-419a-89e9-21de46704928"
        }
      ],
      "nodes": {
        "Branch 1": {
          "spec": {
            "kind": "branch",
            "name": "Branch 1",
            "position": {
              "x": 177,
              "y": 570
            },
            "evaluator": {
              "conditions": [
                {
                  "default": false,
                  "edge_id": "2534d8b6-7801-446c-b8c2-c12908fc406c",
                  "metadata": {
                    "id": "42b14b24-4a04-4640-9012-6540da4a47a2",
                    "conditions": [
                      {
                        "value": "True",
                        "isValid": true,
                        "dataType": "boolean",
                        "operator": "is",
                        "variableName": "flow[\"enroll-benefit-flow\"][\"\u0e04\u0e38\u0e13\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 (\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07)\"].output.value"
                      }
                    ]
                  },
                  "expression": "flow[\"enroll-benefit-flow\"][\"\u0e04\u0e38\u0e13\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 (\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07)\"].output.value is True"
                },
                {
                  "default": true,
                  "edge_id": "076cf29f-29d8-4cb8-b556-e0e889d20bb7",
                  "metadata": {
                    "id": "5b3a9f72-9445-4546-8de1-e77c026a5296"
                  }
                }
              ]
            },
            "display_name": "confirm register ?",
            "match_policy": "FIRST_MATCH"
          }
        },
        "CodeBlock 1": {
          "spec": {
            "fn": "plan_id = \"\"\n\nplanName = flow[\"enroll-benefit-flow\"][\"\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\"].output.Plan\n\nif planName == \"Premium Health Plan\":\n    plan_id = \"HEALTH01\"\nelif planName == \"Basic Dental Plan\":\n    plan_id = \"DENTAL01\"\nelif planName == \"Standard Vision Plan\":\n    plan_id = \"VISION01\"\nelse:\n    plan_id = \"UNKNOWN\"\n\nself.output.plan_id = plan_id\nself.output.coverage_level = flow[\"enroll-benefit-flow\"][\"\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\"].output.Coverage",
            "kind": "script",
            "name": "CodeBlock 1",
            "position": {
              "x": 42.60772667104624,
              "y": 819.7582295537663
            },
            "display_name": "transform",
            "output_schema": {
              "type": "object",
              "properties": {
                "plan_id": {
                  "type": "string",
                  "description": ""
                },
                "coverage_level": {
                  "type": "string",
                  "description": ""
                }
              }
            }
          }
        },
        "UserActivity 1__end__": {
          "spec": {
            "kind": "end",
            "name": "UserActivity 1__end__",
            "position": {
              "x": 177,
              "y": 1208
            }
          }
        },
        "UserActivity 1__start__": {
          "spec": {
            "kind": "start",
            "name": "UserActivity 1__start__",
            "position": {
              "x": 177,
              "y": 0
            }
          }
        },
        "tool_1eb3d026-b229-4f95-aaf2-4df45f2bbf57": {
          "spec": {
            "kind": "tool",
            "name": "tool_1eb3d026-b229-4f95-aaf2-4df45f2bbf57",
            "tool": "enroll_benefit:9c80c877-83ba-4458-9c78-d95b700c14e4",
            "position": {
              "x": 41.315493273652464,
              "y": 945.082495195466
            },
            "description": "Enrolls an employee into a specified benefit plan.\n\nThis function simulates enrolling an employee into a benefit plan like health, dental, or vision.\nIt validates the employee ID, plan ID, and coverage level before recording the enrollment.\nIf the employee is already enrolled in the specified plan, it updates the existing enrollment.",
            "display_name": "enroll_benefit",
            "input_schema": {
              "type": "object",
              "required": [
                "employee_id",
                "plan_id",
                "coverage_level"
              ],
              "properties": {
                "plan_id": {
                  "type": "string",
                  "title": "Plan Id",
                  "description": "The ID of the benefit plan to enroll in (e.g., 'HEALTH01', 'DENTAL01'). Case-insensitive."
                },
                "employee_id": {
                  "type": "string",
                  "title": "Employee Id",
                  "description": "The ID of the employee to enroll (e.g., 'EMP001'). Case-insensitive."
                },
                "coverage_level": {
                  "type": "string",
                  "title": "Coverage Level",
                  "description": "The desired coverage level ('Self' or 'Family'). Case-insensitive."
                }
              }
            },
            "output_schema": {
              "type": "object",
              "description": "A dictionary containing the status and a confirmation or error message."
            },
            "error_handler_config": {
              "max_retries": 0,
              "error_message": "Something went wrong while running 'enroll_benefit'",
              "retry_interval": 1000
            }
          }
        },
        "user_352937a8-a0c1-4ec9-9580-74c5a3724120": {
          "spec": {
            "form": {
              "name": "form_03b3473a-d25c-495d-ae71-245c3cce2d88",
              "fields": [
                {
                  "kind": "any",
                  "name": "field_4ecddd43-221b-439c-9827-ed36bf26128c",
                  "uiSchema": {
                    "ui:title": "Plan",
                    "ui:widget": "ComboboxWidget",
                    "ui:placeholder": "\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e41\u0e1c\u0e19\u0e02\u0e2d\u0e07\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23"
                  },
                  "direction": "input",
                  "input_map": {
                    "spec": {
                      "maps": [
                        {
                          "metadata": {
                            "assignmentType": "pyExpression"
                          },
                          "has-no-value": false,
                          "target_variable": "self.input.choices",
                          "value_expression": "[\"Premium Health Plan\", \"Basic Dental Plan\", \"Standard Vision Plan\"]"
                        },
                        {
                          "metadata": {
                            "assignmentType": "blank"
                          },
                          "has-no-value": true,
                          "target_variable": "self.input.display_text"
                        },
                        {
                          "metadata": {
                            "assignmentType": "variable"
                          },
                          "has-no-value": false,
                          "target_variable": "self.input.display_items",
                          "value_expression": "[]"
                        }
                      ],
                      "name": ""
                    }
                  },
                  "display_name": "Plan",
                  "input_schema": {
                    "type": "object",
                    "required": [
                      "choices"
                    ],
                    "properties": {
                      "choices": {
                        "type": "array",
                        "items": {}
                      },
                      "default": {},
                      "display_text": {
                        "type": "string"
                      },
                      "display_items": {
                        "type": "array",
                        "items": {}
                      }
                    },
                    "additionalProperties": false
                  },
                  "output_schema": {
                    "type": "object",
                    "required": [
                      "value"
                    ],
                    "properties": {
                      "value": {
                        "type": "object",
                        "properties": {}
                      }
                    },
                    "additionalProperties": false
                  },
                  "uiSchemaParkingLot": {}
                },
                {
                  "kind": "any",
                  "name": "field_507ef034-0168-4021-8db0-c99db8eae964",
                  "uiSchema": {
                    "ui:title": "Coverage",
                    "ui:widget": "ComboboxWidget",
                    "ui:placeholder": "\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e23\u0e2d\u0e1a\u0e04\u0e25\u0e38\u0e21\u0e02\u0e2d\u0e1a\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23"
                  },
                  "direction": "input",
                  "input_map": {
                    "spec": {
                      "maps": [
                        {
                          "metadata": {
                            "assignmentType": "pyExpression"
                          },
                          "has-no-value": false,
                          "target_variable": "self.input.choices",
                          "value_expression": "[\"Self\", \"Family\"]"
                        },
                        {
                          "metadata": {
                            "assignmentType": "blank"
                          },
                          "has-no-value": true,
                          "target_variable": "self.input.display_text"
                        },
                        {
                          "metadata": {
                            "assignmentType": "variable"
                          },
                          "has-no-value": false,
                          "target_variable": "self.input.display_items",
                          "value_expression": "[]"
                        }
                      ],
                      "name": ""
                    }
                  },
                  "display_name": "Coverage",
                  "input_schema": {
                    "type": "object",
                    "required": [
                      "choices"
                    ],
                    "properties": {
                      "choices": {
                        "type": "array",
                        "items": {}
                      },
                      "default": {},
                      "display_text": {
                        "type": "string"
                      },
                      "display_items": {
                        "type": "array",
                        "items": {}
                      }
                    },
                    "additionalProperties": false
                  },
                  "output_schema": {
                    "type": "object",
                    "required": [
                      "value"
                    ],
                    "properties": {
                      "value": {
                        "type": "object",
                        "properties": {}
                      }
                    },
                    "additionalProperties": false
                  },
                  "uiSchemaParkingLot": {}
                }
              ],
              "buttons": [
                {
                  "kind": "submit",
                  "name": "submit",
                  "edge_id": "b039e592-437d-48ac-af89-50dad3bd25ad",
                  "visible": true,
                  "display_name": "Submit"
                },
                {
                  "kind": "cancel",
                  "name": "cancel",
                  "visible": false,
                  "display_name": "Cancel"
                }
              ],
              "jsonSchema": {
                "type": "object",
                "required": [
                  "field_507ef034-0168-4021-8db0-c99db8eae964",
                  "field_4ecddd43-221b-439c-9827-ed36bf26128c"
                ],
                "properties": {
                  "field_4ecddd43-221b-439c-9827-ed36bf26128c": {
                    "title": "Plan (Required)"
                  },
                  "field_507ef034-0168-4021-8db0-c99db8eae964": {
                    "title": "Coverage (Required)"
                  }
                },
                "additionalProperties": false
              },
              "display_name": "Form 1"
            },
            "kind": "user",
            "name": "user_352937a8-a0c1-4ec9-9580-74c5a3724120",
            "fields": [],
            "owners": [],
            "position": {
              "x": 177,
              "y": 108
            },
            "display_name": "\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23"
          }
        },
        "user_aef39664-985d-4d35-bb7c-e8ff6fcbcbe5": {
          "spec": {
            "kind": "user",
            "name": "user_aef39664-985d-4d35-bb7c-e8ff6fcbcbe5",
            "fields": [
              {
                "kind": "boolean",
                "name": "boolean_9ec44e64-d5b6-44c6-8391-8c7c16d8f8c9",
                "direction": "input",
                "output_schema": {
                  "type": "object",
                  "required": [
                    "value"
                  ],
                  "properties": {
                    "value": {
                      "type": "boolean"
                    }
                  },
                  "additionalProperties": false
                }
              }
            ],
            "owners": [],
            "position": {
              "x": 177,
              "y": 424
            },
            "display_name": "\u0e04\u0e38\u0e13\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 (\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07)"
          }
        },
        "user_b83374a5-06fd-4f90-a74c-e7324bb94153": {
          "spec": {
            "kind": "user",
            "name": "user_b83374a5-06fd-4f90-a74c-e7324bb94153",
            "fields": [
              {
                "kind": "text",
                "name": "text_output_993df558-b928-4212-aa6e-1a446dfe5c83",
                "text": "| Field | Value to register |                \n| :--- | :--- |                \n| Plan | {flow[\"enroll-benefit-flow\"][\"\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\"].output.Plan} |                \n| Coverage | {flow[\"enroll-benefit-flow\"][\"\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\"].output.Coverage} |",
                "direction": "output",
                "input_schema": {
                  "type": "object",
                  "required": [
                    "value"
                  ],
                  "properties": {
                    "value": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              }
            ],
            "owners": [],
            "position": {
              "x": 177,
              "y": 278
            },
            "display_name": "display benefit"
          }
        },
        "user_bf5872a1-e808-419a-89e9-21de46704928": {
          "spec": {
            "kind": "user",
            "name": "user_bf5872a1-e808-419a-89e9-21de46704928",
            "fields": [
              {
                "kind": "text",
                "name": "text_output_cd54ce64-9512-48cb-b258-3516835b61f5",
                "text": "\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e41\u0e25\u0e49\u0e27 \u0e2b\u0e32\u0e01\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07 \u0e42\u0e1b\u0e23\u0e14\u0e41\u0e08\u0e49\u0e07\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e40\u0e25\u0e22",
                "direction": "output",
                "input_schema": {
                  "type": "object",
                  "required": [
                    "value"
                  ],
                  "properties": {
                    "value": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                }
              }
            ],
            "owners": [],
            "position": {
              "x": 343.630100576544,
              "y": 873.652474482042
            },
            "display_name": "canceled register"
          }
        }
      },
      "schemas": {}
    },
    "prompt_19220ffa-e4dd-4dd9-b07a-65f8187f7464": {
      "spec": {
        "llm": "watsonx/meta-llama/llama-3-2-90b-vision-instruct",
        "kind": "prompt",
        "name": "prompt_19220ffa-e4dd-4dd9-b07a-65f8187f7464",
        "metadata": {
          "creativity_slider_position": "5",
          "creativity_slider_manual_override": false
        },
        "position": {
          "x": 0,
          "y": 170
        },
        "description": "",
        "user_prompt": "",
        "display_name": "Generative prompt",
        "input_schema": {
          "type": "object",
          "title": "input_data",
          "required": [],
          "properties": {}
        },
        "output_schema": {
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            }
          }
        },
        "system_prompt": "You are an expert entity extraction model. You will recieve a user query who would like to update their persnal information. Your task is to the 4 variables that they want to update:\n-`plan`: benefit plan that user want to enroll, choose one of following this value in list [\"Premium Health Plan\", \"Basic Dental Plan\", \"Standard Vision Plan\"]\n-`coverage` : coverage that user want to cover, choose one of following this value in list [\"Self\", \"Family\"]\n\nIf the user provides a value for `plan` or `coverage` that is not in the allowed list, treat it as not found and use a blank string `\"\"`.\n\nRespond only with a single JSON object. If a value is not found, use blank string `\"\"` for that key.",
        "llm_parameters": {
          "top_k": 30,
          "top_p": 0.7,
          "temperature": 0.4,
          "max_new_tokens": 200,
          "min_new_tokens": 50,
          "stop_sequences": [
            "Human",
            "AI"
          ]
        },
        "prompt_examples": [],
        "test_input_data": {},
        "error_handler_config": {
          "max_retries": 0,
          "error_message": "Something went wrong while running 'Generative prompt'",
          "retry_interval": 1000
        }
      }
    }
  },
  "schemas": {},
  "metadata": {
    "source_kind": "ui"
  },
  "output_map": {
    "spec": {
      "maps": [
        {
          "metadata": {
            "assignmentType": "variable"
          },
          "has-no-value": false,
          "target_variable": "self.output.is_success",
          "value_expression": "flow[\"enroll-benefit-flow\"][\"\u0e04\u0e38\u0e13\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e34\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 (\u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07)\"].output.value"
        }
      ],
      "name": ""
    }
  }
}